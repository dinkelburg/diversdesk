---
// Import the necessary dependencies
import { Image } from "astro:assets";
import IconBlock from "@components/ui/blocks/IconBlock.astro";
import Icon from "@components/ui/icons/Icon.astro";
import PrimaryCTA from "@components/ui/buttons/PrimaryCTA.astro";


interface Feature {
  heading: string;
  content?: string;
  svg: string;
  bullets?: string[];
  primaryBtn?: string;
  primaryBtnURL?: string;
}

interface Props {
  title?: string;
  subTitle?: string;
  features?: Feature[];
  children?: any;
  src?: any;
  alt?: string;
  primaryBtn?: string;
  primaryBtnURL?: string;
}
// Define props from Astro
const { title, subTitle, src, alt, features, children, primaryBtn, primaryBtnURL } = Astro.props;

---


<section class="relative bg-[#E8F2F6] dark:bg-[#333333] overflow-x-hidden">
  <div class="mx-auto max-w-[90rem] px-4 sm:px-12 lg:px-16 lg:py-14">
  <!-- Block to display the feature image -->
  <div class="relative mb-6 overflow-hidden md:mb-8" >
    {
      src && alt && (
        <Image
          src={src}
          alt={alt}
          class="max-w-full h-full object-cover object-center"
          draggable={"false"}
          format={"avif"}
          loading={"eager"}
        />
      )
    }
  </div>

  <!-- Displaying the main content consisting of title, subtitle, and several `IconBlock` components -->
  <div class="mt-5 grid gap-8 lg:mt-16 lg:grid-cols-2 lg:gap-12">
    <!-- Block for title and subtitle -->
    <div class="lg:col-span-1">
      <!-- Rendering title -->
      <h2
        class="text-balance text-2xl font-bold text-neutral-800 dark:text-neutral-200 md:text-3xl"
      >
        {title}
      </h2>
      <!-- Rendering subtitle -->
      <!-- {
        subTitle && (
          <p class="mt-2 text-pretty text-neutral-600 dark:text-neutral-400 md:mt-4">
            {subTitle}  </p>
            </br>
          <iframe width="100%" height="200" src="https://www.youtube.com/embed/QUUr5A2rRKw?si=oFfjJ28ShsFE0own" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
          
          )
      } -->
    </div>

 <!-- Block to display the IconBlock components -->
 <div class="lg:col-span-2">
  <div class="w-full grid gap-8 sm:grid-cols-3 md:gap-12">
    {features &&
      features.map((feature) => (
        <a
          href={feature.primaryBtnURL}
          class="group flex items-start gap-x-4 p-4 rounded-lg border border-neutral-200 shadow-sm hover:shadow-lg hover:border-primary-500 transition-all duration-200"
        >
          <IconBlock
            heading={feature.heading}
            content={feature.content} 
            bullets={feature.bullets} 
            primaryBtn={undefined}
            primaryBtnURL={undefined}
          >
            <Icon name={feature.svg} />
          </IconBlock>
          <div class="lg:hidden ml-auto flex items-center h-full">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 text-neutral-500 group-hover:text-primary-500"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
          </div>
        </a>
      ))}
  </div>
</div>



  </div>
   <!-- Action Button Section: This section includes two CTAs with their own styles and URL -->
   <div class="mt-12 grid max-w-full gap-3 sm:inline-flex">
    {primaryBtn && 
    <PrimaryCTA title={primaryBtn} url={primaryBtnURL} />
    }
  </div>

      <!-- Block to display the feature image -->
    <!-- <div class="relative mb-6 overflow-hidden md:mb-8">
      {
        src && alt && (
          <Image
            src={src}
            alt={alt}
            class="h-full w-full object-cover object-center"
            draggable={"false"}
            format={"avif"}
            loading={"eager"}
          />
        )
      }
    </div> -->
    </div>
</section>